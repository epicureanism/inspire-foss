#!/bin/bash
#
# Transforms INSPIRE Annex I CP GML to ESDIN ExM CP GML
#
# Author: Just van den Broecke
#

SETTINGS_SCRIPT="settings-`hostname`.sh"
. $SETTINGS_SCRIPT

DATA_ROOT_DIR=$GEODATA_HOME/top10nl/shape/oost-nl
DATA_RESULT_DIR=$DATA_ROOT_DIR/transformed
TRANSFORM_SCRIPT=$INSPIRE_FOSS_HOME/etl/NL.Kadaster/ExM/inspire-gn-to-exm-gn.sh

FEATURE_TYPES="FUNCTIONEEL_GEBIED_PUNT GEOGRAFISCH_GEBIED_PUNT INRICHTINGSELEMENT_PUNT WEGDEEL_PUNT"

# Transform INSPIRE GML to ExM GML
for FEATURE_TYPE in $FEATURE_TYPES; do
    ${TRANSFORM_SCRIPT} $DATA_RESULT_DIR/GN_${FEATURE_TYPE}.gml $DATA_RESULT_DIR/ExM_GN_${FEATURE_TYPE}.gml
done

ls -l $DATA_RESULT_DIR


